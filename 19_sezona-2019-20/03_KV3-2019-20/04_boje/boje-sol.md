---
title: –ë–æ—ò–µ - –æ–ø–∏—Å —Ä–µ—à–µ—ö–∞
---

# –ë–æ—ò–µ

–ê—É—Ç–æ—Ä: –ê–ª–µ–∫—Å–∞ –ü–ª–∞–≤—à–∏—õ
–¢–µ–∫—Å—Ç –∏ —Ç–µ—Å—Ç –ø—Ä–∏–º–µ—Ä–∏: –î–∏–º–∏—Ç—Ä–∏—ò–µ –ï—Ä–¥–µ—ô–∞–Ω
–ê–Ω–∞–ª–∏–∑–∞ —Ä–µ—à–µ—ö–∞: –°–ª–æ–±–æ–¥–∞–Ω –ú–∏—Ç—Ä–æ–≤–∏—õ
–¢–µ—Å—Ç–µ—Ä: –í–ª–∞–¥–∏–º–∏—Ä –ú–∏–ª–µ–Ω–∫–æ–≤–∏—õ

## –ê–Ω–∞–ª–∏–∑–∞
–õ–∞–∫–æ —ò–µ –≤–∏–¥–µ—Ç–∏ –¥–∞ —Å–µ –æ–≤–∞—ò –∑–∞–¥–∞—Ç–∞–∫ –º–æ–∂–µ —Å–≤–µ—Å—Ç–∏ –Ω–∞ —Ç—Ä–∞–∂–µ—ö–µ –±—Ä–æ—ò–∞ –ø–æ–≤–µ–∑–∞–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –º–µ—í—É –ø–æ—ô–∏–º–∞ –∫–æ—ò–∞ –Ω–∏—Å—É –æ–±–æ—ò–µ–Ω–∞. –°–≤–∞–∫—É —Ç–∞–∫–≤—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –º–æ–∂–µ–º–æ –æ–±–æ—ò–∏—Ç–∏ –Ω–æ–≤–æ–º –æ–±–æ—ò–æ–º. –£ –æ—Å—Ç–∞—Ç–∫—É —Ä–µ—à–µ—ö–∞ —õ–µ–º–æ –æ–ø–∏—Å–∞—Ç–∏ –∫–∞–∫–æ —Å–µ –±—Ä–æ—ò –ø–æ–≤–µ–∑–∞–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –º–æ–∂–µ –µ—Ñ–∏–∫–∞—Å–Ω–æ –Ω–∞—õ–∏ –ø–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ—ö–∏–º–∞ –¥–∞—Ç–∏–º —É –æ–≤–æ–º –∑–∞–¥–∞—Ç–∫—É.


## –†–µ—à–µ—ö–µ —É $O(N \cdot M)$
–î–∞ –±–∏—Å–º–æ –ø—Ä–æ–Ω–∞—à–ª–∏ –±—Ä–æ—ò –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —ò–µ–¥–Ω–æ—Å—Ç–∞–≤–Ω–æ –º–æ–∂–µ–º–æ –¥–∞ –ø—Ä–∏–º–µ–Ω–∏–º–æ *Depth First Search (DFS)*, –∞–ª–≥–æ—Ä–∏—Ç–∞–º –æ–¥ —Å–≤–∞–∫–æ–≥ –Ω–µ–æ–±–æ—ò–µ–Ω–æ–≥ –ø–æ—ô–∞ –∫–æ—ò–µ –Ω–∏—Å–º–æ –¥–æ —Å–∞–¥–∞ –æ–≤–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –ø–æ—Å–µ—Ç–∏–ª–∏. –ü–æ—à—Ç–æ –±—Ä–æ—ò —á–≤–æ—Ä–æ–≤–∞ –∏ –≥—Ä–∞–Ω–∞ —É –≥—Ä–∞—Ñ—É –∫–æ—ò–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—ô–∞—ò—É –Ω–µ–æ–±–æ—ò–µ–Ω–∞ –ø–æ—ô–∞ –∏–º–∞ —Å–ª–æ–∂–µ–Ω–æ—Å—Ç $O(N \cdot M)$, –æ–≤–∞—ò –ø—Ä–∏—Å—Ç—É–ø –±–∏ –±–∏–æ –≤—Ä–ª–æ —Å–ø–æ—Ä –∑–∞ –Ω–∞—ò–≤–µ—õ–µ —Ç–µ—Å—Ç –ø—Ä–∏–º–µ—Ä–µ.

–ü–æ—Å–º–∞—Ç—Ä–∞—ò–º–æ –ø—Ä–∏–º–µ—Ä –≥–¥–µ —ò–µ $N = M = 10^9$ –∏ $K = 10^5$. –£ —Ç–æ–º –ø—Ä–∏–º–µ—Ä—É –ø–æ—Å—Ç–æ—ò–µ ‚Äû–≤–µ–ª–∏–∫–∏‚Äú –¥–µ–ª–æ–≤–∏ —Ç–∞–±–ª–µ –∫–æ—ò–∏ —Å—É –Ω–µ–æ–±–æ—ò–µ–Ω–∏ –∞ –ø–æ–≤–µ–∑–∞–Ω–∏. –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ, —É–º–µ—Å—Ç–æ –¥–∞ —Å–≤–∞–∫–æ –ø–æ—ô–µ —Ç–∏—Ö ‚Äû–≤–µ–ª–∏–∫–∏—Ö‚Äú –¥–µ–ª–æ–≤–∞ –ø–æ—Å–º–∞—Ç—Ä–∞–º–æ –∫–∞–æ —á–≤–æ—Ä, –±–∏–ª–æ –±–∏ –∑–≥–æ–¥–Ω–æ –∞–∫–æ –±–∏—Å–º–æ —Ü–µ–æ ‚Äû–≤–µ–ª–∏–∫–∏‚Äú –¥–µ–æ –ø–æ—Å–º–∞—Ç—Ä–∞–ª–∏ –∫–∞–æ —ò–µ–¥–∞–Ω —á–≤–æ—Ä. –£ —Ç–æ–º —Å–ª—É—á–∞—ò—É –±–∏ –≥–æ—Ä–µ –æ–ø–∏—Å–∞–Ω–∏ *DFS*-–ø—Ä–∏—Å—Ç—É–ø –∏–º–∞–æ –¥–∞–ª–µ–∫–æ –º–∞—ö—É —Å–ª–æ–∂–µ–Ω–æ—Å—Ç. –ù–∞—Ä–∞–≤–Ω–æ, –≥–ª–∞–≤–Ω–æ –ø–∏—Ç–∞—ö–µ –æ–≤–¥–µ —ò–µ –∫–∞–∫–æ –∏–∑–∞–±—Ä–∞—Ç–∏ –≤–µ–ª–∏–∫–µ –¥–µ–ª–æ–≤–µ —Ç–∞–∫–æ –¥–∞ —ò–µ –∑–≥–æ–¥–Ω–æ —Å–∞ —ö–∏–º–∞ —Ä–∞–¥–∏—Ç–∏, –∞ —É—Å–ø—É—Ç —Å–≤–µ—Å—Ç–∏ –±—Ä–æ—ò —á–≤–æ—Ä–æ–≤–∞ –∫–æ—ò–µ –ø–æ—Å–º–∞—Ç—Ä–∞–º–æ –Ω–∞ –º–∞–ª–∏ –±—Ä–æ—ò. –£ –æ—Å—Ç–∞—Ç–∫—É —Ä–µ—à–µ—ö–∞ —õ–µ–º–æ —Å–µ —Ñ–æ–∫—É—Å–∏—Ä–∞—Ç–∏ –Ω–∞ –æ–≤–æ –ø–∏—Ç–∞—ö–µ.


## ‚Äû–í–µ–ª–∏–∫–∏‚Äú –¥–µ–ª–æ–≤–∏ —Ç–∞–±–ª–µ –∏ —Ä–µ—à–µ—ö–µ —É $O(–ö \cdot \log{K})$
–°–∞–¥–∞ —õ–µ–º–æ –æ–±—ò–∞—Å–Ω–∏—Ç–∏ –∫–∞–∫–æ –¥–∞ –æ–¥ —É–ª–∞–∑–∞ –Ω–∞–ø—Ä–∞–≤–∏–º–æ –≥—Ä–∞—Ñ –∫–æ—ò–∏ –∏–º–∞ $O(K)$ —á–≤–æ—Ä–æ–≤–∞ –∏ $O(K)$ –≥—Ä–∞–Ω–∞.

### –ß–≤–æ—Ä–æ–≤–∏
–ù–∞—ò–ø—Ä–µ, —É–∑–∞—Å—Ç–æ–ø–Ω–µ –∫–æ–ª–æ–Ω–µ –∫–æ—ò–∏ –Ω–µ–º–∞—ò—É –Ω–∏—ò–µ–¥–Ω–æ —Ü—Ä–Ω–æ –ø–æ—ô–µ —õ–µ–º–æ –ø–æ—Å–º–∞—Ç—Ä–∞—Ç–∏ –∫–∞–æ —ò–µ–¥–∞–Ω —á–≤–æ—Ä. –ü–æ—à—Ç–æ —ò–µ, —Å–µ–º –ø—Ä–≤–æ–≥ –∏ –ø–æ—Å–ª–µ–¥—ö–µ–≥, —Å–≤–∞–∫–∏ —Ç–∞–∫–∞–≤ —á–≤–æ—Ä –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–æ–ª–æ–Ω–∞–º–∞ –∫–æ—ò–µ –∏–º–∞—ò—É –±–∞—Ä —ò–µ–¥–Ω–æ —Ü—Ä–Ω–æ –ø–æ—ô–µ, –±—Ä–æ—ò —Ç–∞–∫–≤–∏—Ö —á–≤–æ—Ä–æ–≤–∞ —ò–µ –Ω–∞—ò–≤–∏—à–µ $K + 1$.


–ü–æ—Å–º–∞—Ç—Ä–∞—ò–º–æ —Å–∞–¥–∞ –∫–æ–ª–æ–Ω—É –∫–æ—ò–∞ –∏–º–∞ –±–∞—Ä —ò–µ–¥–Ω–æ —Ü—Ä–Ω–æ –ø–æ—ô–µ. –ê–∫–æ –∫–æ–ª–æ–Ω–∞ –∏–º–∞ $t$ —Ü—Ä–Ω–∏—Ö –ø–æ—ô–∞, —Ç–∞–¥–∞ —Å–µ –æ–Ω–∞ –º–æ–∂–µ –∏–∑–¥–µ–ª–∏—Ç–∏ —É $t + 1$ –∏–ª–∏ –º–∞—ö–µ –Ω–∏–∑–æ–≤–∞ —É–∑–∞—Å–æ—Ç–ø–Ω–∏—Ö –Ω–µ–æ–±–æ—ò–µ–Ω–∏—Ö –ø–æ—ô–∞. –°–≤–∞–∫–∏ –æ–¥ —Ç–∏—Ö –Ω–∏–∑–æ–≤–∞ —õ–µ–º–æ –ø–æ—Å–º–∞—Ç—Ä–∞—Ç–∏ –∫–∞–æ –ø–æ—Å–µ–±–∞–Ω —á–≤–æ—Ä. –¢–∞–∫–≤–∏—Ö —á–≤–æ—Ä–æ–≤–∞ –∏–º–∞ –Ω–∞—ò–≤–∏—à–µ $2 K$.

### –ì—Ä–∞–Ω–µ
–î–∞ –±–∏—Å–º–æ –∏–∑–ª–∏—Å—Ç–∞–ª–∏ –≥—Ä–∞–Ω–µ, –ø–æ—Å–º–∞—Ç—Ä–∞—õ–µ–º–æ –ø–æ –¥–≤–µ —Å—É—Å–µ–¥–Ω–µ –∫–æ–ª–æ–Ω–µ –∏ —á–≤–æ—Ä–æ–≤–µ –∫–æ—ò–µ –æ–Ω–µ –¥–µ—Ñ–∏–Ω–∏—à—É, –ø–æ–¥ —É—Å–ª–æ–≤–æ–º –¥–∞ –±–∞—Ä —ò–µ–¥–Ω–∞ –æ–¥ –∫–æ–ª–æ–Ω–∞ –∏–º–∞ –±–∞—Ä —ò–µ–¥–Ω–æ —Ü—Ä–Ω–æ –ø–æ—ô–µ. (–î–≤–µ —Å—É—Å–µ–¥–Ω–µ –∫–æ–ª–æ–Ω–µ –∫–æ—ò–µ –Ω–µ–º–∞—ò—É —Ü—Ä–Ω–∞ –ø–æ—ô–∞ —Å—É –¥–µ–æ –∏—Å—Ç–æ–≥ —á–≤–æ—Ä–∞.) –ù–µ–∫–∞ —ò–µ $C_1$ –ª–∏—Å—Ç–∞ —á–≤–æ—Ä–æ–≤–∞ –ø—Ä–≤–µ, –∞ –Ω–µ–∫–∞ —ò–µ $C_2$ –ª–∏—Å—Ç–∞ —á–≤–æ—Ä–æ–≤–∞ –¥—Ä—É–≥–µ –∫–æ–ª–æ–Ω–µ. –°–≤–∞–∫–∏ —á–≤–æ—Ä $v$ —ò–µ –ø—Ä–µ–¥—Å—Ç–∞–≤—ô–µ–Ω –∫–∞–æ –ø–∞—Ä $(a, b)$, —à—Ç–æ –∑–Ω–∞—á–∏ –¥–∞ —ò–µ $v$ –ø–æ–¥–Ω–∏–∑ —É–∑–∞—Å—Ç–æ–ø–Ω–∏—Ö –Ω–µ–æ–±–æ—ò–µ–Ω–∏—Ö –ø–æ—ô–∞ –∫–æ—ò–∏ —Å–µ —É –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ–æ—ò –∫–æ–ª–æ–Ω–∏ –ø—Ä—É–∂–∞—ò—É –∏–∑–º–µ—í—É —Ä–µ–¥–æ–≤–∞ $a$ –∏ $b$. –ü—Ä–µ—Ç–ø–æ—Å—Ç–∞–≤–∏–º–æ –¥–∞ —Å—É —á–≤–æ—Ä–æ–≤–∏ —É $C_1$ –∏ $C_2$ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–∏ —É —Ä–∞—Å—Ç—É—õ–µ–º –ø–æ—Ä–µ—Ç–∫—É –ø–æ –ø—Ä–≤–æ—ò –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏. –¢–∞–¥–∞ —Å–µ —Å–ª–µ–¥–µ—õ–∏ –∞–ª–≥–æ—Ä–∏—Ç–∞–º –º–æ–∂–µ –ø—Ä–∏–º–µ–Ω–∏—Ç–∏ –¥–∞ —Å–µ –Ω–∞—í—É —Å–≤–µ –≥—Ä–∞–Ω–µ –∏–∑–º–µ—í—É —á–≤–æ—Ä–æ–≤–∞ —É $C_1$ –∏ $C_2$.

–ù–µ–∫–∞ —ò–µ $v_1 = (a_1, b_1) \in C_1$ —Ç—Ä–µ–Ω—É—Ç–Ω–∏ —á–≤–æ—Ä –∫–æ—ò–∏ –æ–±—Ä–∞—í—É—ò–µ–º–æ —É $C_1$, –∞ $v_2 = (a_2, b_2) \in C_2$ —Ç—Ä–µ–Ω—É—Ç–Ω–∏ —á–≤–æ—Ä –∫–æ—ò–∏ –æ–±—Ä–∞—í—É—ò–µ–º–æ —É $C_2$. –ù–∞ –ø–æ—á–µ—Ç–∫—É, $v_1$ —ò–µ –ø—Ä–≤–∏ —á–≤–æ—Ä –∏–∑ $C_1$, –∞ $v_2$ —ò–µ –ø—Ä–≤–∏ —á–≤–æ—Ä –∏–∑ $C_2$. –ü—Ä–∏–º–µ—ö—É—ò–µ–º–æ —Å–ª–µ–¥–µ—õ–µ —Å–≤–µ –¥–æ–∫ –Ω–∏—Å–º–æ –ø—Ä–æ—à–ª–∏ —Å–≤–µ —á–≤–æ—Ä–æ–≤–µ –∏–∑ –±–∞—Ä $C_1$ –∏–ª–∏ $C_2$:
- –ê–∫–æ $b_1 < a_2$, –ø–æ—Å—Ç–∞–≤–∏–º–æ $v_1$ –¥–∞ –±—É–¥–µ —Å–ª–µ–¥–µ—õ–∏ —á–≤–æ—Ä —É $C_1$.
- –ê–∫–æ $b_2 < a_1$, –ø–æ—Å—Ç–∞–≤–∏–º–æ $v_2$ –¥–∞ –±—É–¥–µ —Å–ª–µ–¥–µ—õ–∏ —á–≤–æ—Ä —É $C_2$.
- –ò–Ω–∞—á–µ, –¥–æ–¥–∞–º–æ –≥—Ä–∞–Ω—É –∏–∑–º–µ—í—É $v_1$ –∏ $v_2$. –ê–∫–æ —ò–µ $b_1 < b_2$, –æ–Ω–¥–∞ –ø–æ—Å—Ç–∞–≤–∏–º–æ $v_1$ –¥–∞ –±—É–¥–µ —Å–ª–µ–¥–µ—õ–∏ —á–≤–æ—Ä —É $C_1$, –∞ –∏–Ω–∞—á–µ –ø–æ—Å—Ç–∞–≤–∏–º–æ $v_2$ –¥–∞ –±—É–¥–µ —Å–ª–µ–¥–µ—õ–∏ —á–≤–æ—Ä —É $C_2$.

–ù–∏—ò–µ —Ç–µ—à–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç–∏ –¥–∞ —Å–µ –Ω–∞ –æ–≤–∞—ò –Ω–∞—á–∏–Ω –∑–∞–∏—Å—Ç–∞ –¥–µ—Ñ–∏–Ω–∏—à—É —Å–≤–µ –≥—Ä–∞–Ω–µ –∏–∑–º–µ—í—É —á–≤–æ—Ä–æ–≤–∞ —É $C_1$ –∏ $C_2$. –ü–æ—Ä–µ–¥ —Ç–æ–≥–∞, —Å–≤–∞–∫–∏ –ø—É—Ç –∫–∞–¥ —Å–µ –¥–æ–¥–∞ –≥—Ä–∞–Ω–∞, —á–≤–æ—Ä $v_1$ –∏–ª–∏ —á–≤–æ—Ä $v_2$ —Å–µ –ø–æ–º–µ—Ä–µ –∑–∞ —ò–µ–¥–∞–Ω –º–µ—Å—Ç–æ. –¢–æ –∑–Ω–∞—á–∏ –¥–∞ —Å–µ —É –æ–≤–æ–º –ø—Ä–æ—Ü–µ—Å—É –¥–æ–¥–∞ –Ω–∞—ò–≤–∏—à–µ $|C_1| + |C_2|$ –≥—Ä–∞–Ω–∞. –ü–æ—à—Ç–æ —ò–µ —Å–≤–∞–∫–∞ –∫–æ–ª–æ–Ω–∞ —Å—É—Å–µ–¥–Ω–∞ —Å–∞ –Ω–∞—ò–≤–∏—à–µ –¥–≤–µ –¥—Ä—É–≥–µ –∫–æ–ª–æ–Ω–µ –∏ –ø–æ—à—Ç–æ —Å–º–æ —Ä–µ–∫–ª–∏ –¥–∞ —ò–µ —É–∫—É–ø–∞–Ω –±—Ä–æ—ò —á–≤–æ—Ä–æ–≤–∞ $K + 1 + 2 K$, –æ–≤–∏–º –ø—Ä–æ—Ü–µ—Å–æ–º —Å–µ –¥–æ–¥–∞ –Ω–∞—ò–≤–∏—à–µ $2 (3K + 1)$ –≥—Ä–∞–Ω–∞.


–î–∞ –±–∏—Å–º–æ –ø—Ä–æ–Ω–∞—à–ª–∏ –±—Ä–æ—ò –ø–æ–≤–µ–∑–∞–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –Ω–∞–¥ –æ–≤–∞–∫–≤–∏–º –≥—Ä–∞—Ñ–æ–º –º–æ–∂–µ–º–æ –¥–∞ –ø—Ä–∏–º–µ–Ω–∏–º–æ *DFS*; –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, —É–º–µ—Å—Ç–æ *DFS*-–∞ –º–æ–∂–µ–º–æ –∏—Å–∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ union-find —Å—Ç—Ä—É–∫—Ç—É—Ä—É. C–æ—Ä—Ç–∏—Ä–∞—ö–µ —á–≤–æ—Ä–æ–≤–∞ —É –∫–æ–ª–æ–Ω–∏ $C$ —Å–µ –º–æ–∂–µ —É—Ä–∞–¥–∏—Ç–∏ —É –≤—Ä–µ–º–µ–Ω—É $O(|C| \log{|C|})$, —Ç–∞–∫–æ –¥–∞ —ò–µ —É–∫—É–ø–Ω–∞ —Å–ª–æ–∂–µ–Ω–æ—Å—Ç —Ü–µ–ª–æ–≥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ $O(K \log{K})$.

## –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —Ä–µ—à–µ—ö–µ
–û–≤–∞—ò –∑–∞–¥–∞—Ç–∞–∫ —Å–∞ —Ç–∞–∫–æ—í–µ –º–æ–∂–µ —Ä–µ—à–∏—Ç–∏ –ø—Ä–∏–º–µ–Ω–æ–º –û—ò–ª–µ—Ä–æ–≤–µ —Ñ–æ—Ä–º—É–ª–µ –∑–∞ –ø–ª–∞–Ω–∞—Ä–Ω–µ –≥—Ä–∞—Ñ–æ–≤–µ. –ù–∞–∏–º–µ, –∞–∫–æ –Ω–∞–º —ò–µ –¥–∞—Ç –ø–ª–∞–Ω–∞—Ä–∞–Ω –≥—Ä–∞—Ñ $G$ –Ω–∞ $n$ —á–≤–æ—Ä–æ–≤–∞, —Å–∞ $m$ –≥—Ä–∞–Ω–∞, $f$ –ø–æ–≤–µ–∑–∞–Ω–∏—Ö –æ–±–ª–∞—Å—Ç–∏ –∏ $c$ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —Ç–∞–¥–∞ –≤–∞–∂–∏ $n - m + f = 1 + c$. –û–≤—É —Ñ–æ—Ä–º—É–ª—É –º–æ–∂–µ–º–æ –∏—Å–∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –¥–∞ —Ä–µ—à–∏–º–æ –∑–∞–¥–∞—Ç–∞–∫ –Ω–∞ —Å–ª–µ–¥–µ—õ–∏ –Ω–∞—á–∏–Ω.

–ó–∞ —á–µ—Ç–∏—Ä–∏ –ø–æ—ô–∞ –∫–æ—ò–∞ –∏–º–∞—ò—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ $(x, y)$, $(x, y + 1)$, $(x + 1, y)$, $(x + 1, y + 1)$ –∫–∞–∂–µ–º–æ –¥–∞ —á–∏–Ω–µ 2x2 –∫–≤–∞–¥—Ä–∞—Ç.

–ó–∞–º–∏—Å–ª–∏—õ–µ–º–æ –¥–∞ —ò–µ —Ç–∞–±–ª–∞ –æ–∏–≤–∏—á–µ–Ω–∞ —Ç—Ä–∞–∫–æ–º —Ü—Ä–Ω–µ –±–æ—ò–µ. –¶–µ–ª—É —Ç—É —Ç—Ä–∞–∫—É —õ–µ–º–æ –ø–æ—Å–º–∞—Ç—Ä–∞—Ç–∏ –∫–∞–æ —ò–µ–¥–∞–Ω —á–≤–æ—Ä. –ü–æ—Ç–æ–º, —É —Ü–µ–Ω—Ç–∞—Ä —Å–≤–∞–∫–æ–≥ —Ü—Ä–Ω–æ–≥ –ø–æ—ô–∞ —õ–µ–º–æ —Å—Ç–∞–≤–∏—Ç–∏ —á–≤–æ—Ä. –ü–æ–≤–µ–∑–∞—õ–µ–º–æ –¥–≤–∞ —á–≤–æ—Ä–∞ –≥—Ä–∞–Ω–æ–º –∞–∫–æ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ–∞ —Ü—Ä–Ω–∞ –ø–æ—ô–∞ –¥–µ–ª–µ –º–∞–∫–∞—Ä —ò–µ–¥–Ω–æ —Ç–µ–º–µ, –∏ –ø–æ—Ä–µ–¥ —Ç–æ–≥–∞ –∏–∑–±–∞—Ü–∏—õ–µ–º–æ –≥—Ä–∞–Ω–µ –∫–æ—ò–µ —Å–ø–∞—ò–∞—ò—É –Ω–∞—Å–ø—Ä–∞–º–Ω–∞ –ø–æ—ô–∞ —É 2x2 —Ü—Ä–Ω–æ–º –∫–≤–∞–¥—Ä–∞—Ç—É (–≥—Ä–∞–Ω—É –∫–æ—ò–∞ —Å–ø–∞—ò–∞ –ø–æ—ô–∞ $(x, y)$ –∏ $(x + 1, y + 1)$, –∏ –≥—Ä–∞–Ω—É –∫–æ—ò–∞ —Å–ø–∞—ò–∞ –ø–æ—ô–∞ $(x + 1, y)$, $(x, y + 1)$). –û–≤–µ –≥—Ä–∞–Ω–µ –∏–∑–±–∞—Ü—É—ò–µ–º–æ –¥–∞ –±–∏—Å–º–æ –æ—á—É–≤–∞–ª–∏ –ø–ª–∞–Ω–∞—Ä–Ω–æ—Å—Ç. –ü—Ä–∏–º–µ—Ç–∏–º–æ –¥–∞ —ò–µ –æ–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ü–∏—ò–∞ —Å—É—Å–µ–¥–Ω–∏—Ö —Ü—Ä–Ω–∏—Ö –ø–æ—ô–∞ –¥—Ä—É–≥–∞—á–∏—ò–∞ –Ω–µ–≥–æ –æ–Ω–∞ —É –ø–æ—Å—Ç–∞–≤—Ü–∏ –∑–∞–¥–∞—Ç–∫–∞. –¢–∞–∫–æ—í–µ —õ–µ–º–æ –ø–æ–≤–µ–∑–∞—Ç–∏ —Ç—Ä–∞–∫—É –∫–æ—ò–∞ –æ–∏–≤–∏—á–∞–≤–∞ —Ç–∞–±–ª—É —Å–∞ —Å–≤–∞–∫–∏–º —á–≤–æ—Ä–æ–º –∫–æ—ò–∏ –¥–æ–¥–∏—Ä—É—ò–µ –∏–≤–∏—Ü—É —Ç–∞–±–ª–µ, —Ç—ò. —Å–∞ —Å–≤–∞–∫–∏–º —á–≤–æ—Ä–æ–º –∫–æ—ò–∏ —Å–µ –Ω–∞–ª–∞–∑–∏ —É –ø—Ä–≤–æ–º –∏–ª–∏ —É –ø–æ—Å–ª–µ–¥—ö–µ–º —Ä–µ–¥—É –∏–ª–∏ —É –ø—Ä–≤–æ—ò –∏–ª–∏ —É –ø–æ—Å–ª–µ–¥—ö–æ—ò –∫–æ–ª–æ–Ω–∏. –û–≤–∞—ò –≥—Ä–∞—Ñ —ò–µ –ø–ª–∞–Ω–∞—Ä–∞–Ω. –ü–æ—Ä–µ–¥ —Ç–æ–≥–∞, –≥—Ä–∞—Ñ –∏–º–∞ $O(K)$ –≥—Ä–∞–Ω–∞, —Ç–∞–∫–æ –¥–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç $c$ –º–æ–∂–µ–º–æ –ª–∞–∫–æ –Ω–∞—õ–∏, –Ω–∞ –ø—Ä–∏–º–µ—Ä, *DFS* –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

–ö–æ—Ä–∏—Å—Ç–µ—õ–∏ –Ω–∞–≤–µ–¥–µ–Ω—É —Ñ–æ—Ä–º—É–ª—É –º–æ–∂–µ–º–æ –¥–∞ –∏–∑—Ä–∞—á—É–Ω–∞–º–æ $f$. –ê–ª–∏ —à—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—ô–∞ $f$? –ù–∞—ò–ø—Ä–µ, —Å–≤–∞–∫–∞ —á–µ—Ç–∏—Ä–∏ —á–≤–æ—Ä–∞ –∫–æ—ò–∞ —á–∏–Ω–µ 2x2 –∫–≤–∞–¥—Ä–∞—Ç —õ–µ —É –æ–≤–æ—ò –¥–µ—Ñ–∏–Ω–∏—Ü–∏—ò–∏ –ø–ª–∞–Ω–∞—Ä–Ω–æ–≥ –≥—Ä–∞—Ñ–∞ —Ñ–æ—Ä–º–∏—Ä–∞—Ç–∏ —ò–µ–¥–Ω—É –ø–æ–≤–µ–∑–∞–Ω—É –æ–±–ª–∞—Å—Ç. –¢–∞–∫–æ—í–µ —õ–µ –∏ —Å–≤–∞–∫–∞ —Ç—Ä–∏ —á–≤–æ—Ä–∞ —É üòÜ‚Äû–ì –æ–±–ª–∏–∫—É‚Äú (—Ç—ò. –∏–º–∞—ò—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ $(x, y)$, $(x, y + 1)$, $(x + 1, y)$) –∏ —Ä–æ—Ç–∞—Ü–∏—ò–∞–º–∞ –æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò–µ —á–∏–Ω–∏—Ç–∏ –ø–æ–≤–µ–∑–∞–Ω–µ –æ–±–ª–∞—Å—Ç–∏. –ü–æ—Ä–µ–¥ –æ–≤–∏—Ö –æ–±–ª–∞—Å—Ç–∏, $f$ –±—Ä–æ—ò–∏ –ø–æ–≤–µ–∑–∞–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –∫–æ—ò–µ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É –Ω–µ–æ–±–æ—ò–µ–Ω–∏–º –ø–æ—ô–∏–º–∞, —à—Ç–æ —ò–µ —É–ø—Ä–∞–≤–æ –±—Ä–æ—ò –æ–Ω–∏—Ö –æ–±–ª–∞—Å—Ç–∏ –∫–æ—ò–µ —Å—É —Ä–µ—à–µ—ö–µ –æ–≤–æ–≥ –ø—Ä–æ–±–ª–µ–º–∞. –î–∞–∫–ª–µ, –¥–∞ –±–∏—Å–º–æ —Ä–µ—à–∏–ª–∏ –æ–≤–∞—ò –ø—Ä–æ–±–ª–µ–º, –ø–æ—Ç—Ä–µ–±–Ω–æ —ò–µ –¥–∞ –æ–¥ $f$ –æ–¥—É–∑–º–µ–º–æ 2x2 —Ü—Ä–Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–µ.

–ó–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞—ö–µ *DFS*-–∞ –º–æ–∂–µ–º–æ —Å–º–µ—Å—Ç–∏—Ç–∏ —Å–≤–∞ —Ü—Ä–Ω–∞ –ø–æ—ô–∞ —É *hash* –º–∞–ø—É, –∏–ª–∏, –Ω–∞ –ø—Ä–∏–º–µ—Ä, —É —Å—Ç—Ä—É–∫—Ç—É—Ä—É *map* —É C++. –ü—Ä–∏—Å—Ç—É–ø–æ–º –æ–≤–æ—ò –º–∞–ø–∏ —ò–µ –æ–Ω–¥–∞ –ª–∞–∫–æ –Ω–∞—õ–∏ –∫–æ—ò–µ —Å—É—Å–µ–¥–µ –∏–º–∞ –¥–∞—Ç–∏ —á–≤–æ—Ä.

–î–∞ —Ä–µ–∑–∏–º–∏—Ä–∞–º–æ, –¥–∞ –±–∏—Å–º–æ —Ä–µ—à–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º, –ø–æ—Ç—Ä–µ–±–Ω–æ —ò–µ –¥–∞: (1) –Ω–∞–ø—Ä–∞–≤–∏–º–æ –≥—Ä–∞—Ñ –∫–∞–æ —à—Ç–æ —ò–µ —Ç–æ –æ–ø–∏—Å–∞–Ω–æ; (2) –∏–∑—Ä–∞—á—É–Ω–∞–º–æ $c$; (3) –ø—Ä–µ–±—Ä–æ—ò–∏–º–æ 2x2 —Ü—Ä–Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–µ, –∏ –ø—Ä–µ–±—Ä–æ—ò–∏–º–æ —Ü—Ä–Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–µ –∫–æ—ò–∏ —á–∏–Ω–µ ‚Äû–ì –æ–±–ª–∏–∫‚Äú –∏ —ö–µ–≥–æ–≤–µ —Ä–æ—Ç–∞—Ü–∏—ò–µ; –∏ (4) –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –Ω–∞–≤–µ–¥–µ–Ω—É —Ñ–æ—Ä–º—É–ª—É –∏–∑—Ä–∞—á—É–Ω–∞–º–æ —Ä–µ—à–µ—ö–µ –æ–≤–æ–≥ –ø—Ä–æ–±–ª–µ–º–∞.
