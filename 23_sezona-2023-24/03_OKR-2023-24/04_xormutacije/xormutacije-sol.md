---
title: Хормутације - опис решења
---

## Хормутације

Аутор: Марко Миленковић 

Текст: и тест примери: Марко Миленковић

Анализа решења: Марко Миленковић

Тестирање: Павле Мартиновић

###  $T = 1$ и $N \leq 9$
У овом подзадатку је довољно изгенерисати све пермутације дужине $N+1$ и израчунати за сваку од њих израз $X$. Како би се избегла непотребна константа $N$ у сложености, израз $X$ рачунамо док генеришемо све пермутације. Укупна сложеност је онда $\mathcal{O}((N+1)!)$ или $\mathcal{O}((N+1)! \cdot N)$ у зависности од тога како рачунамо израз $X$. 
### $N+1$ је степен двојке
Приметимо да је могуће да упаримо бројеве $x$ и $N-x$. Они су комплементарни у бинарном запису - када на неком месту у бинарном запису број $x$ има јединицу, тада је на истом том месту нула у броју $N-x$, и обрнуто. То значи да ће $\oplus$ сваког пара бити $N$, а онда и укупна сума $N\cdot(N+1)$. Временска сложеност овог алгоритма је $\mathcal{O}(N)$. 
###  $P_i = i$ за свако $i = 0, 1, 2, \ldots, N$
Приметимо да уколико имамо решење када важи $P_i = i$, онда имамо и решење у општем случају - само је потребно да измапирамо који елемент иде коме уместо да их исписујемо редом за $i=0,1,2,\ldots,N$. 
### Решење без додатних ограничења
Посматрајмо највећи број $K$ мањи од $N$, за који важи да је $K+1$ степен двојке. Јасно је да уколико упаримо $K$ и $K+1$ не губимо ниједан бит применом операције $\oplus$, јер су комплементарни бројеви у бинарном запису. Исто то важи и за бројеве $K-1$ и $K+2$, $K-2$ и $K+3$, и тако даље. Након што упаримо број $N$ са његовим парњаком, рекурзивно решавамо за преостале бројеве. Из ове конструкције се лако може показати да је највећа могућа вредност израза $X$ управо једнака $N(N+1)$. У зависности од имплементације мапирања елемента или проналажења броја $K$, укупна временска сложеност биће $\mathcal{O}(N)$ или $\mathcal{O}(N\log N)$.
