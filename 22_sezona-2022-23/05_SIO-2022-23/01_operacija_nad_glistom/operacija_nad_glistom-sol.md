# Операција над глистом

Аутор: Павле Мартиновић
Текст и тест примери: Марко Шишовић
Анализа решења: Драган Урошевић
Тестирање: Владимир Миленковић

### Главно решење
Приметимо да су операције раздвајања и спајања узајамно инверзне
(тј. иверзне једна другој), тако да ако нека два дела спојимо, никад их више нећемо раздвајати.
У последњем потезу знамо да морамо да спојимо два дела који имају једнаке дужине, или два дела од којих је леви за један краћи од десног (тј. дужине делова су $\left\lfloor\frac{S}{2}\right\rfloor$ и $\left\lceil\frac{S}{2}\right\rceil$, где је $S$ укупна дужина глисте). Због тога треба да постоји индекс $k$, тако да је сума дужина првих $k$ делова једнака $\left\lfloor\frac{S}{2}\right\rfloor$, а сума дужина  преосталих делова износи $\left\lceil\frac{S}{2}\right\rceil$. Ако не постоји такав индекс $k$, онда се одређује индекс $k$ тако да је
$$
\sum_{i=1}^{k-1} a_i< \left\lfloor\frac{S}{2}\right\rfloor
\quad \text{и}
\quad
\sum_{i=1}^{k} a_i >  \left\lceil\frac{S}{2}\right\rceil.
$$
Након тога се део са индексом $k$ дели све док се не добије низ у коме постоји индекс $l$, такав да је
$$
\sum_{i=1}^{l} a_i = \left\lfloor\frac{S}{2}\right\rfloor.
$$
То постижемо тако што сваки пут делимо део са индексом  $k'$
за који важи
$$
\sum_{i=1}^{k'-1} a_i < \left\lfloor\frac{S}{2}\right\rfloor
\quad \text{и}
\quad
\sum_{i=1}^{k'} a_i > \left\lceil\frac{S}{2}\right\rceil.
$$

Када добијемо низ делова (који има $n'$ делова) за који постоји индекс $l$ такав да је
$$
\sum_{i=1}^{l} a_i = \left\lfloor\frac{S}{2}\right\rfloor.
$$,
онда рекурзивно позивамо функцију која одређује минимални број операција потребан да се споје првих $l$ делова у један део и фунцију која одређује минималан број операција потребан да се споји последњих $n'-l$ делова  у један део. На крају два тако добијена дела ћемо спојити у један део. Укупан број операција је једнак збиру броја операција дељења на почетку функције, броју операција за спајање леве половине, броја операција за спајање десне половине и броја 1 за спајање два добијена дела (половине).

Значи, за решавање задатка смо искористили технику подели па владај ($divide\ and\ conquer$). Приметимо да је сложеност једног рекурзивног позива (односно припреме за рекурзивне позиве током извршавања тог рекурзивног позива) ${\mathcal O}(S)$, а да се рекурзивно позива функција за низове у којима је сума дужина делова $\frac{S}{2}$, па је по мастер теореми сложеност комплетне функције ${\mathcal O}(S\log S)$.
 


