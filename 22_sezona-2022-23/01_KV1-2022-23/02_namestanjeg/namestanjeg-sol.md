---
title: Намештање гласања - опис решења
---

# Намештање гласања

Аутор: Павле Мартиновић
Текст и тест примери: Тони  Шкријељ
Анализа решења: Драган Урошевић
Тестирање: Владимир Миловановић

### Главно решење

Претпоставимо да је низ $A$ сортиран у неопадајућем поретку,  да је укупан број елемената низа $N$ и да су елементи низа индексирани бројевима од $0$ до $N-1$. Тада је медијана низа елемент са индексом $N/2$ ()при чему се рачуна целобројни део количника. Нека је $B$ број поена који Маркос жели као границу. Тада разликујемо три случаја

Ако је $A[N/2] = B$, онда је медијана већ једнака броју $B$ и Маркос гласа $0$ пута.

Ако је $B$ $<$ $A[N/2]$ одређујемо индекс $i$ последњег елемента који није већи од $B$ (ако такав не постоји, онда је $i=-1$). Тада постоји  $i+1$ елемената који су мањи од или једнаки $B$ и $N-i-1$ елемената који су већи од $B$, при чему је $i+1 \leq N-i-1$. Да би обезбедили да $B$ буде медијана потребно је да група мањих или једнаких има бар један елемент више од групе већих, па је потребно убацити $N-i-1-(i+1)+1 = N-2i-1$ гласова.
 
Ако је $B>A[N/2]$ одређујемо индекс $i$ првог елемента који није мањи од $B$ ( ако такав не постоји, онда је $i=N$). Тада постоји  $i$ елемената који су мањи од $B$ и $N-i$ елемената који су већи од или $B$, при чему је $i \geq N-i$. Да би обезбедили да $B$ буде медијана потребно је да група већих или једнаких има бар онолико елемента колико има мањих, па је потребно убацити $i - (N - i) = 2i-N$ гласова.

Сложеност алгоритма је одређена сложеношћу сортирања (која може бити $\Theta(N\log N)$) и сложеношћу проналажења последњег елемента који није већи од $B$, односно првог елемента који није мањи од $B$. Ако ово реализујемо као секвенцијално претраживање, сложеност дела који се односи на одређивање одговора на питања ће бити $\Theta(QN)$, па ће укупна сложеност бити $\Theta(N\log N + NQ)$. Ако проналажење описаног елемента реализујемо коришћењем бинарне претраге (коју свакако можемо користити, ако смо низ сортирали), онда је сложеност одређивања одговора на питања $\Theta(Q\log N)$, па је сложеност комплетног алгоритма $\Theta((N+Q)\log N)$.




